<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>THE LINKS. KTV BATAM</title>
  <style>
    *{box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
    body{margin:0;background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);color:#fff;overflow:hidden;}
    header{padding:12px 20px;background:rgba(255,255,255,0.05);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,0.1);}
    #searchBar{display:flex;gap:10px;align-items:center;}
    input{padding:10px 14px;border:none;border-radius:8px;width:280px;background:rgba(255,255,255,0.1);color:#fff;font-size:14px;transition:background 0.3s;}
    input:focus{outline:none;background:rgba(255,255,255,0.2);}
    button{background:#1db954;border:none;color:#fff;padding:10px 16px;border-radius:8px;font-weight:bold;cursor:pointer;transition:background 0.3s,transform 0.2s;}
    button:hover{background:#1ed760;transform:scale(1.05);}
    #container{display:grid;grid-template-columns:1fr 1fr;height:calc(100vh - 130px);}
    #playlist{overflow-y:auto;padding:15px;background:rgba(255,255,255,0.03);border-left:1px solid rgba(255,255,255,0.1);}
    .song{display:flex;align-items:center;gap:12px;background:rgba(255,255,255,0.05);margin-bottom:10px;padding:10px;border-radius:10px;cursor:pointer;transition:background 0.3s,transform 0.2s;}
    .song:hover{background:rgba(255,255,255,0.15);transform:scale(1.02);}
    .song.active{background:rgba(0,255,128,0.3);box-shadow:0 0 12px #00ff99;border:1px solid #00ff99;}
    img.thumb{width:80px;border-radius:6px;}
    .title{font-weight:bold;font-size:14px;display:flex;align-items:center;}
    .channel{font-size:12px;color:#ccc;}
    #controls{display:flex;gap:12px;justify-content:center;padding:12px;background:rgba(0,0,0,0.3);border-top:1px solid rgba(255,255,255,0.1);}
    #controls button{background:#222;border:1px solid #444;color:#FFD700;padding:12px 18px;border-radius:10px;font-size:14px;font-weight:bold;cursor:pointer;transition:background 0.3s,box-shadow 0.2s;}
    #controls button:hover{background:#333;box-shadow:0 0 8px #FFD700;}
    #virtualKeyboard{display:grid;grid-template-columns:repeat(10,1fr);gap:8px;padding:12px;background:rgba(0,0,0,0.4);position:fixed;bottom:20px;left:50%;transform:translateX(-50%);border-radius:12px;z-index:9999;}
    #virtualKeyboard button{background:#222;border:1px solid #444;color:#00ffcc;font-weight:bold;font-size:16px;padding:12px;border-radius:8px;cursor:pointer;transition:background 0.3s,transform 0.2s;}
    #virtualKeyboard button:hover{background:#333;transform:scale(1.05);}
    #qr-container{position:fixed;bottom:20px;right:20px;background:rgba(0,0,0,0.6);padding:16px;border-radius:12px;text-align:center;box-shadow:0 0 12px #00ffcc;z-index:9999;}
    #qr-container p{color:#fff;font-size:13px;margin-top:8px;font-weight:500;}
    .equalizer{display:inline-flex;gap:2px;align-items:flex-end;height:16px;margin-right:6px;}
    .bar{width:3px;background:#00ff99;animation:bounce 0.6s infinite ease-in-out;}
    .bar:nth-child(1){animation-delay:0s;}
    .bar:nth-child(2){animation-delay:0.1s;}
    .bar:nth-child(3){animation-delay:0.2s;}
    .bar:nth-child(4){animation-delay:0.3s;}
    .bar:nth-child(5){animation-delay:0.4s;}
    @keyframes bounce{0%,100%{height:3px;opacity:0.7;}50%{height:16px;opacity:1;}}
    .bar.paused{animation-play-state:paused;opacity:0.4;}
    @media(max-width:600px){input{width:160px;}img.thumb{width:64px;}#controls button{padding:10px 12px;font-size:12px;}}
  </style>
</head>
<body>
  <header>
    <div><strong>THE LINKS. KTV BATAM</strong></div>
    <div id="searchBar">
      <input id="searchInput" type="text" placeholder="Cari lagu..." />
      <button id="searchBtn">Cari</button>
      <button id="openPlayerBtn">Buka Layar 2</button>
    </div>
  </header>
  <div id="container">
    <div id="searchResults"></div>
    <div id="playlist"></div>
  </div>
  <div id="controls">
    <button id="playBtn">PLAY</button>
    <button id="pauseBtn">PAUSE</button>
    <button id="nextBtn">NEXT</button>
    <button id="moveUpBtn">UP</button>
    <button id="moveDownBtn">DOWN</button>
    <button id="clearBtn">CLEAR</button>
  </div>
  <div id="virtualKeyboard"></div>
  <div id="qr-container" style="display:none;">
    <div id="qrcode"></div>
    <p>Scan untuk kontrol dari HP</p>
  </div>

  <!-- Firebase & QR Code -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <!-- JavaScript Interaktif -->
  <script>
    const API_KEY = "AIzaSyDRqyB5XtgdHTtDVbhuIR5cL6OqDTZlFgE";
    const firebaseConfig = {
      apiKey: "AIzaSyBEx2cWIr5e1vZamz65kq8cO1JQ0cUAzuQ",
      authDomain: "karaoke-control.firebaseapp.com",
      databaseURL: "https://karaoke-control-default-rtdb.firebaseio.com",
      projectId: "karaoke-control",
      storageBucket: "karaoke-control.appspot.com",
      messagingSenderId: "868744728649",
      appId: "1:868744728649:web:500e5bec0ce4ca70f62f98"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let playlist = [];
    let currentIndex = 0;
    let playerWindow = null;

    async function doSearch() {
      const q = document.getElementById('searchInput').value.trim();
      const resultsEl = document.getElementById('searchResults');
      if (!q) return resultsEl.innerHTML = '<i>Masukkan kata kunci...</i>';
      resultsEl.innerHTML = '<i>Mencari...</i>';
      const searchQuery = q.toLowerCase().includes('karaoke') ? q : q + ' karaoke';
      const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=10&q=${encodeURIComponent(searchQuery)}&key=${API_KEY}`;
      try {
        const resp = await fetch(url);
        const data = await resp.json();
        resultsEl.innerHTML = '';
        (data.items || []).forEach(item => {
          const thumb = item.snippet.thumbnails?.medium?.url || '';
          const div = document.createElement('div[43dcd9a7-70db-4a1f-b0ae-981daa162054](https://github.com/gnobaaaar/TIL/tree/bc46b450fa78abe1931a53c61e9a9b6ec4e40597/html-css%2FnomadKokoa.md?citationMarker=43dcd9a7-70db-4a1f-b0ae-981daa162054 "1")
